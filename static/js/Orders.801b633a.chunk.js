(this.webpackJsonpreact_antd_admin_template=this.webpackJsonpreact_antd_admin_template||[]).push([[3],{1318:function(e,t,n){"use strict";n(65),n(1319)},1319:function(e,t,n){},1320:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n.n(a),i=n(136);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){return r.createElement(i.a,null,(function(t){var n,a=t.getPrefixCls,i=e.prefixCls,u=e.type,d=void 0===u?"horizontal":u,f=e.orientation,p=void 0===f?"center":f,m=e.className,h=e.children,y=e.dashed,b=s(e,["prefixCls","type","orientation","className","children","dashed"]),g=a("divider",i),v=p.length>0?"-".concat(p):p,O=o()(m,g,"".concat(g,"-").concat(d),(c(n={},"".concat(g,"-with-text").concat(v),h),c(n,"".concat(g,"-dashed"),!!y),n));return r.createElement("div",l({className:O},b,{role:"separator"}),h&&r.createElement("span",{className:"".concat(g,"-inner-text")},h))}))}},1450:function(e,t,n){},1451:function(e,t,n){},1457:function(e,t,n){"use strict";n.r(t);n(396);var r=n(232),a=(n(1307),n(1310)),o=(n(1318),n(1320)),i=(n(1311),n(1309)),l=(n(230),n(67)),c=(n(65),n(1450),n(0)),s=n.n(c),u=n(4),d=n.n(u),f=n(36),p=n(136);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},b=function(e){return c.createElement(p.a,null,(function(t){var n,r,a=t.getPrefixCls,o=e.prefixCls,i=e.className,l=e.color,s=void 0===l?"":l,u=e.children,p=e.pending,b=e.dot,g=y(e,["prefixCls","className","color","children","pending","dot"]),v=a("timeline",o),O=d()((h(n={},"".concat(v,"-item"),!0),h(n,"".concat(v,"-item-pending"),p),n),i),E=d()((h(r={},"".concat(v,"-item-head"),!0),h(r,"".concat(v,"-item-head-custom"),b),h(r,"".concat(v,"-item-head-").concat(s),!0),r));return c.createElement("li",m({},Object(f.a)(g,["position"]),{className:O}),c.createElement("div",{className:"".concat(v,"-item-tail")}),c.createElement("div",{className:E,style:{borderColor:/blue|red|green|gray/.test(s)?void 0:s}},b),c.createElement("div",{className:"".concat(v,"-item-content")},u))}))};b.defaultProps={color:"blue",pending:!1,position:""};var g=b,v=n(9);function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r,a=P(o);function o(){var e;return w(this,o),(e=a.apply(this,arguments)).renderTimeline=function(t){var n,r=t.getPrefixCls,a=e.props,o=a.prefixCls,i=a.pending,l=void 0===i?null:i,s=a.pendingDot,u=a.children,f=a.className,p=a.reverse,m=a.mode,h=_(a,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),y=r("timeline",o),b="boolean"===typeof l?null:l,O=d()(y,(j(n={},"".concat(y,"-pending"),!!l),j(n,"".concat(y,"-reverse"),!!p),j(n,"".concat(y,"-").concat(m),!!m),n),f),N=l?c.createElement(g,{pending:!!l,dot:s||c.createElement(v.a,{type:"loading"})},b):null,w=p?[N].concat(x(c.Children.toArray(u).reverse())):[].concat(x(c.Children.toArray(u)),[N]),C=function(e,t){return"alternate"===m?"right"===e.props.position?"".concat(y,"-item-right"):"left"===e.props.position?"".concat(y,"-item-left"):"".concat(y,t%2===0?"-item-left":"-item-right"):"left"===m?"".concat(y,"-item-left"):"right"===m||"right"===e.props.position?"".concat(y,"-item-right"):""},S=w.filter((function(e){return!!e})),P=c.Children.count(S),k="".concat(y,"-item-last"),I=c.Children.map(S,(function(e,t){var n=t===P-2?k:"",r=t===P-1?k:"";return c.cloneElement(e,{className:d()([e.props.className,!p&&l?n:r,C(e,t)])})}));return c.createElement("ul",E({},h,{className:O}),I)},e}return t=o,(n=[{key:"render",value:function(){return c.createElement(p.a,null,this.renderTimeline)}}])&&C(t.prototype,n),r&&C(t,r),o}(c.Component);A.Item=g,A.defaultProps={reverse:!1,mode:""};var D=A,M=n(37),z=(n(395),n(192)),R=n(168),T=n(169),L=n(171),Q=n(170),F=(n(1323),n(1321)),J=(n(550),n(309)),q=(n(549),n(185)),V=n(397),U=(n(1324),n(1322)),K=n(303),W=U.a.Option,$=function(e){Object(L.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(R.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={visible:!1,confirmLoading:!1,loading:!1,selectMap:[],address:null,area:null,cardNo:"",expressNo:null,expressStatus:null,goodsName:"",mobile:"",orderNo:"",receiver:null},e.sendData=function(t){e.setState(Object(M.a)({},t))},e.handleShowModal=function(){e.setState({visible:!0})},e.handleCancel=function(){e.setState({visible:!1})},e.fetchData=function(){Object(K.d)().then((function(t){var n=t.data;200===n.resCode&&e.setState({selectMap:n.body})})).catch((function(e){z.a.error(e.message)}))},e.handlePublish=function(){var t=e.props,n=t.form,r=t.onReload,a=Object(V.a)(e);n.validateFields((function(e,t){if(!e){var n=t.expressCode,o=t.expressNo,i=t.orderNo;Object(K.a)({expressCode:n,expressNo:o,orderNo:i}).then((function(e){var t=e.data;200===t.resCode?(z.a.success("\u6dfb\u52a0\u5feb\u9012\u4fe1\u606f\u6210\u529f!"),a.setState({visible:!1,confirmLoading:!1}),r()):z.a.error(t.resMsg)})).catch((function(e){z.a.error(e.message)}))}}))},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,n=t.visible,a=t.confirmLoading,o=t.selectMap,i=this.state,l=i.expressCode,c=i.expressNo,u=i.orderNo,d={labelCol:{sm:{span:4}},wrapperCol:{sm:{span:20}}},f=o&&o.map((function(e){return s.a.createElement(W,{value:e.expressCode,key:e.expressCode},e.expressName)}));return s.a.createElement(r.a,{title:"\u6dfb\u52a0\u5feb\u9012\u4fe1\u606f",visible:n,onCancel:this.handleCancel.bind(this),onOk:this.handlePublish.bind(this),confirmLoading:a},s.a.createElement(q.a,d,s.a.createElement(q.a.Item,{label:"\u5feb\u9012\u516c\u53f8:"},e("expressCode",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5feb\u9012\u516c\u53f8!"}],initialValue:l})(s.a.createElement(U.a,{placeholder:"\u5feb\u9012\u516c\u53f8"},f))),s.a.createElement(q.a.Item,{label:"\u5feb\u9012\u5355\u53f7:"},e("expressNo",{rules:[{required:!0,message:"\u9009\u62e9\u5feb\u9012\u5355\u53f7!"}],defaultValue:c})(s.a.createElement(J.a,{placeholder:"\u5feb\u9012\u5355\u53f7"}))),s.a.createElement(q.a.Item,{label:"\u8ba2\u5355\u53f7:"},e("orderNo",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7!"}],initialValue:u})(s.a.createElement(J.a,{placeholder:"\u8ba2\u5355\u53f7",disabled:!0})))))}}]),n}(c.Component),B=q.a.create({name:"AddForm"})($),G=(n(1451),F.a.Column),H={action:Object(K.k)(),listType:"text"},X=function(e){Object(L.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(R.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._isMounted=!1,e.state={list:[],loading:!1,total:0,listQuery:{pageNo:1,pageSize:10},orderNo:null,visible:!1,visibleEdit:!1,expressList:[]},e.fetchData=function(){var t=[],n=0;e.setState({loading:!0}),Object(K.h)(e.state.listQuery).then((function(r){e.setState({loading:!1});var a=r.data;200===a.resCode?(t=a.body&&a.body.list,n=a.body&&a.body.total):z.a.error(a.resMsg),e._isMounted&&e.setState({list:t,total:n})}))},e.changePage=function(t,n){e.setState((function(e){return{listQuery:Object(M.a)({},e.listQuery,{pageNo:t})}}),(function(){e.fetchData()}))},e.changePageSize=function(t,n){e.setState((function(e){return{listQuery:Object(M.a)({},e.listQuery,{pageNo:t,pageSize:n})}}),(function(){e.fetchData()}))},e.uploadChange=function(t){"uploading"!==t.file.status&&console.log(t.file,t.fileList),"done"===t.file.status?(z.a.success("".concat(t.file.name," \u4e0a\u4f20\u6210\u529f")),e.fetchData()):"error"===t.file.status&&z.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25"))},e.handleExpressTrack=function(t){var n=t.orderNo;Object(K.e)({orderNo:n}).then((function(t){var n=t.data,r=n.body;if(r){var a=JSON.parse(r);"ok"===a.message?e.setState({expressList:a.data,visible:!0}):z.a.error(a.message)}else z.a.error(n.resMsg)}))},e.handleCancel=function(t){e.setState({visible:!1})},e.handleAddExpress=function(t){e.formAddRef.handleShowModal(),e.formAddRef.sendData(t)},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.fetchData()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.state.expressList,n=t&&t.map((function(e,t){return s.a.createElement(D.Item,{key:t},e.context," ",e.ftime)}));return s.a.createElement("div",{className:"app-container"},s.a.createElement("div",{className:"normal-options",key:Math.random()},s.a.createElement(i.a,Object.assign({},H,{onChange:this.uploadChange.bind(this)}),s.a.createElement(l.a,null,"\u5bfc\u5165\u8ba2\u5355\uff08\u5bfc\u5165Excel\uff09"))),s.a.createElement("div",{className:"vspace"}),s.a.createElement("div",{className:"orders-table"},s.a.createElement(F.a,{dataSource:this.state.list,loading:this.state.loading,pagination:!1,scroll:{x:1e3,y:250},className:"normal-table",size:"small",rowKey:"orderNo"},s.a.createElement(G,{title:"\u8ba2\u5355\u53f7",dataIndex:"orderNo",key:"orderNo",width:200,align:"center"}),s.a.createElement(G,{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"goodsName",key:"goodsName",width:200,align:"center"}),s.a.createElement(G,{title:"\u6536\u8d27\u4eba",dataIndex:"receiver",key:"receiver",width:120,align:"center"}),s.a.createElement(G,{title:"\u624b\u673a\u53f7",dataIndex:"mobile",key:"mobile",width:195,align:"center"}),s.a.createElement(G,{title:"\u5730\u533a",dataIndex:"area",key:"area",width:100,align:"center",render:function(e,t){return e||"---"}}),s.a.createElement(G,{title:"\u8be6\u7ec6\u5730\u5740",dataIndex:"address",key:"address",width:195,align:"center",render:function(e,t){return e||"---"}}),s.a.createElement(G,{title:"\u5173\u8054\u5361\u53f7",dataIndex:"cardNo",key:"cardNo",width:195,align:"center"}),s.a.createElement(G,{title:"\u8fd0\u5355\u53f7",dataIndex:"expressNo",key:"expressNo",width:195,align:"center",render:function(e,t){return null===e?"---":e}}),s.a.createElement(G,{title:"\u7269\u6d41\u72b6\u6001",dataIndex:"expressStatus",key:"expressStatus",width:195,align:"center",render:function(e,t){return null===e?"---":e}}),s.a.createElement(G,{title:"\u64cd\u4f5c",key:"action",width:260,align:"center",render:function(t,n){return s.a.createElement("span",null,s.a.createElement(l.a,{size:"small",type:"primary",onClick:e.handleExpressTrack.bind(null,n)},"\u7269\u6d41\u660e\u7ec6"),s.a.createElement(o.a,{type:"vertical"}),s.a.createElement(l.a,{size:"small",type:"primary",onClick:e.handleAddExpress.bind(null,n)},"\u6dfb\u52a0\u5feb\u9012\u4fe1\u606f"))}}))),s.a.createElement("div",{className:"normal-pages"},s.a.createElement(a.a,{size:"small",total:this.state.total,pageSizeOptions:["10","20","40"],showTotal:function(e){return"\u5171".concat(e,"\u6761\u6570\u636e")},onChange:this.changePage,current:this.state.listQuery.pageNo,onShowSizeChange:this.changePageSize,showSizeChanger:!0,showQuickJumper:!0,hideOnSinglePage:!0})),s.a.createElement(r.a,{title:"\u7269\u6d41\u4fe1\u606f",className:"infoModal",width:"620px",onCancel:this.handleCancel,visible:this.state.visible,footer:null},s.a.createElement(D,null,n)),s.a.createElement(B,{wrappedComponentRef:function(t){return e.formAddRef=t},onReload:this.fetchData,ref:"addForm"}))}}]),n}(c.Component);t.default=X}}]);